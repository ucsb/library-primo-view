app.value('searchTargets', [{
  "name": "Worldcat",
  "url": "https://110105.on.worldcat.org/v2/search?",
  "img": "custom/01UCSB_INST-UCSB/img/worldcat.png",
  "alt": "Worldcat logo",
  mapping: function mapping(queries, filters) {
    var query_mappings = {
      'any': 'kw',
      'title': 'ti',
      'creator': 'au',
      'subject': 'su',
      'isbn': 'bn',
      'issn': 'n2'
    };
    try {
      return 'queryString=' + queries.map(function (part) {
        var terms = part.split(',');
        var type = query_mappings[terms[0]] || 'kw';
        var string = terms[2] || '';
        var join = terms[3] || '';
        return type + ':' + string + ' ' + join + ' ';
      }).join('');
    } catch (e) {
      return '';
    }
  }
},
{
  "name": "Google Scholar",
  "url": "https://scholar.google.com/scholar?q=",
  "img": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/200px-Google_%22G%22_Logo.svg.png",
  "alt": "Google Scholar Logo",
  mapping: function (queries, filters) {
    try {
      return queries.map(part => part.split(",")[2] || "").join(' ')
    }
    catch (e) {
      return ''
    }
  }
},
])